<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Catálogo de Productos</title>
    <style>
      body { font-family: sans-serif; margin: 2rem; background-color: #f0f2f5; }
      .container { max-width: 900px; margin: auto; padding: 1rem; background:
      white; border-radius: 10px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); } h1 {
      text-align: center; color: #333; } .product-list { margin-top: 2rem; }
      .product-card { border: 1px solid #ccc; padding: 15px; margin-bottom:
      10px; border-radius: 8px; background-color: #f9f9f9; } .pagination {
      display: flex; justify-content: center; margin-top: 20px; } .pagination a,
      .pagination span { padding: 8px 16px; margin: 0 5px; border: 1px solid
      #ccc; text-decoration: none; color: #333; border-radius: 4px; }
      .pagination .active { background-color: #007bff; color: white;
      border-color: #007bff; } .pagination a:hover { background-color: #ddd; }
      .pagination .disabled { color: #aaa; pointer-events: none; }
      .filter-sort-container { display: flex; justify-content: space-between;
      align-items: center; margin-bottom: 1.5rem; } .filter-sort-container
      label, .filter-sort-container select, .filter-sort-container input {
      margin-right: 1rem; } .add-to-cart-btn { background-color: #28a745; color:
      white; border: none; padding: 10px 15px; border-radius: 5px; cursor:
      pointer; transition: background-color 0.3s; } .add-to-cart-btn:hover {
      background-color: #218838; }
    </style>
  </head>
  <body>
    <div class="container">
      <h1>Catálogo de Productos</h1>

      <div class="filter-sort-container">
        <div>
          <label for="category-filter">Filtrar por Categoría:</label>
          <select id="category-filter">
            <option value="">Todas</option>
            <!-- Las categorías se cargarán dinámicamente o se agregarán manualmente -->
            <option value="Componentes">Componentes</option>
            <option value="Periféricos">Periféricos</option>
          </select>
        </div>
        <div>
          <label for="sort-by-price">Ordenar por Precio:</label>
          <select id="sort-by-price">
            <option value="">Sin orden</option>
            <option value="asc">Ascendente</option>
            <option value="desc">Descendente</option>
          </select>
        </div>
      </div>

      <div class="product-list">
        {{#each payload}}
          <div class="product-card">
            <h2>{{this.title}}</h2>
            <p><strong>Descripción:</strong> {{this.description}}</p>
            <p><strong>Precio:</strong> ${{this.price}}</p>
            <p><strong>Categoría:</strong> {{this.category}}</p>
            <p><strong>Stock:</strong> {{this.stock}}</p>
            <button
              class="add-to-cart-btn"
              data-product-id="{{this._id}}"
            >Agregar al Carrito</button>
          </div>
        {{/each}}
      </div>

      <div class="pagination">
        {{#if hasPrevPage}}
          <a
            href="/?page={{prevPage}}&limit={{limit}}&sort={{sort}}&query={{query}}"
          >Anterior</a>
        {{else}}
          <span class="disabled">Anterior</span>
        {{/if}}

        <span>Página {{page}} de {{totalPages}}</span>

        {{#if hasNextPage}}
          <a
            href="/?page={{nextPage}}&limit={{limit}}&sort={{sort}}&query={{query}}"
          >Siguiente</a>
        {{else}}
          <span class="disabled">Siguiente</span>
        {{/if}}
      </div>
    </div>

  </body>
</html>